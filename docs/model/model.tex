\documentclass{article}

\usepackage[]{algorithm}
\usepackage{algpseudocode}

\begin{document}

\title{Model}
\author{Harang Ju}

%\maketitle

\begin{algorithm}
\caption{Calculating expected average activity}
\begin{algorithmic}[1]
\Function{calculate\_expected\_average}{$A,B,u(t)$}
\State $t \gets 0$
\Repeat
\State $t \gets t + t_{step}$
\State $X(t) \gets A*X + B*u(t)$
\Until{$ \sum\limits_{j} X_j(t) = 0 $ or $t = t_{max}$}
\EndFunction
\end{algorithmic}
\end{algorithm}

\begin{algorithm}
\caption{Calculating empirical average activity}
\begin{algorithmic}[1]
\Function{calculate\_empirical\_average}{$A,B,u(t)$}
\For{trials $k \gets 1, k_{max}$}
\State $s_{avg}(k) \gets trigger\_avalanche(A,B,u(t))$
\EndFor
\State \Return $\frac{1}{k} \sum\limits_k s_{avg}(k)$
\EndFunction
\end{algorithmic}
\end{algorithm}

\begin{algorithm}
\caption{Generating spikes}
\begin{algorithmic}[1]
\Function{trigger\_avalanche}{$A,B,u(t)$}
\State $t\gets 0$
\Repeat
\State $t\gets t + t_{step}$
	\ForAll{neurons $j$}
	\State $s_j(t) \gets \sum\limits_{u_j(t-1)} R(B_j) + \sum\limits_{i \rightarrow j} \sum\limits_{s_{i}(t-1)} R(A_{ij}) $ 
	\EndFor
\Until{ $\sum\limits_j s_j(t) = 0$ or $t = t_{max}$}
\State \Return $s$
\EndFunction
\State \Comment{$R(p)$ is a random, Bernoulli process with probability $p$}
\State \Comment{$i \rightarrow j$ indicates neurons $i$ that synapse to $j$}
\end{algorithmic}
\end{algorithm}

\end{document}